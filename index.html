<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>KeyDrill</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <div class="app" id="app">
    <header class="header" role="banner">
      <div class="titleBlock">
        <h1 class="title">KeyDrill</h1>
        <p class="subtitle">Keys &amp; Scale Degrees</p>
      </div>

      <div class="controls" aria-label="Game controls">
        <button class="btn" id="btnNew" type="button">New</button>
        <button class="btn" id="btnSettings" type="button" aria-haspopup="dialog" aria-controls="settingsModal">Settings</button>
      </div>
    </header>

    <main class="main" role="main">
      <section class="questionBox" aria-live="polite" aria-atomic="true">
        <div class="questionText" id="questionText">Press New to begin.</div>
        <div class="timerRow">
          <div class="timerLabel">Time</div>
          <div class="timer" id="timer">--</div>
        </div>
      </section>

      <section class="statusPanel" id="statusPanel" aria-live="polite" aria-atomic="true">
        <div class="statusInner">
          <div class="face faceGood" aria-hidden="true"></div>
          <div class="face faceBad" aria-hidden="true"></div>
          <div class="statusText" id="statusText">Ready.</div>
        </div>
      </section>

      <section class="answers" aria-label="Answer choices">
        <div class="answerGrid" id="answerGrid">
          <button class="answerBtn" type="button" data-idx="0">—</button>
          <button class="answerBtn" type="button" data-idx="1">—</button>
          <button class="answerBtn" type="button" data-idx="2">—</button>
          <button class="answerBtn" type="button" data-idx="3">—</button>
          <button class="answerBtn" type="button" data-idx="4">—</button>
          <button class="answerBtn" type="button" data-idx="5">—</button>
          <button class="answerBtn" type="button" data-idx="6">—</button>
        </div>
      </section>
    </main>
  </div>

  <!-- Settings Modal -->
  <div class="modalOverlay" id="settingsOverlay" hidden></div>
  <div class="modal" id="settingsModal" role="dialog" aria-modal="true" aria-labelledby="settingsTitle" hidden>
    <div class="modalHeader">
      <h2 id="settingsTitle">Settings</h2>
      <button class="iconBtn" id="btnCloseSettings" type="button" aria-label="Close settings">×</button>
    </div>

    <div class="modalBody">
      <section class="settingGroup">
        <h3 class="settingLabel">Keys to Master</h3>
        <p class="settingHint">Toggle one or more keys. (Can’t be zero — will fall back to all.)</p>
        <div class="keyToggles" id="keyToggles" aria-label="Keys to master"></div>
      </section>

      <section class="settingGroup">
        <h3 class="settingLabel">Seconds per Question</h3>
        <div class="sliderRow">
          <input id="secondsSlider" class="slider" type="range" min="3" max="20" step="1" value="8" />
          <div class="sliderValue" id="secondsValue">8s</div>
        </div>
      </section>

      <section class="settingGroup">
        <h3 class="settingLabel">Degree Mode</h3>
        <div class="segmented" role="radiogroup" aria-label="Degree mode">
          <button class="segBtn" id="modeDiatonic" type="button" role="radio" aria-checked="true" data-mode="diatonic">Diatonic</button>
          <button class="segBtn" id="modeChromatic" type="button" role="radio" aria-checked="false" data-mode="chromatic">Chromatic</button>
        </div>
      </section>

      <section class="settingGroup">
        <h3 class="settingLabel">Audio</h3>
        <div class="toggleRow">
          <button class="toggleBtn" id="toggleSound" type="button" aria-pressed="true">Sounds: On</button>
          <button class="toggleBtn" id="toggleTick" type="button" aria-pressed="false">Tick: Off</button>
        </div>
      </section>
    </div>

    <div class="modalFooter">
      <button class="btn primary" id="btnSaveSettings" type="button">Save</button>
    </div>
  </div>

  <script src="keydrill.js" defer></script>
</body>
</html>
